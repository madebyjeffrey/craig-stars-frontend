<!--
  @component
  MineralPacket in the scanner
 -->
<script lang="ts">
	import type { Wormhole } from '$lib/types/Wormhole';
	import type { LayerCake } from 'layercake';
	import { getContext } from 'svelte';
	import type { Writable } from 'svelte/store';

	const { data, xGet, yGet, xScale, yScale, width, height } = getContext<LayerCake>('LayerCake');
	const scale = getContext<Writable<number>>('scale');

	export let wormhole: Wormhole;

	$: size = 512 / $scale;
</script>

<!-- ScannerWormhole from game-icons.net transform={`translate(${$xGet(wormhole)} ${$yGet(wormhole)})`} -->
<svg
	xmlns="http://www.w3.org/2000/svg"
	viewBox="0 0 512 512"
	height={4}
	width={4}
	class="scanner-wormhole"
	x={$xGet(wormhole) -2}
	y={$yGet(wormhole) -2}
>
	<g>
		<path
			d="M 307.819885 30.001923 C 185.877243 30.001923 67.211006 131.409271 42.770405 256.501953 C 34.083199 300.968384 38.480839 342.436584 53.223545 377.425781 C 48.210655 371.217102 43.497414 364.741028 39.141521 358.012024 C 18.859095 326.67804 8.898401 294.657959 8.440338 264.720398 C -5.976942 299.852051 -1.48597 344.637268 26.22492 387.44278 C 60.241844 439.991028 126.388168 476.536499 197.991928 481.9263 C 204.940216 482.628845 212.049393 483 219.31575 483 C 341.258392 483 459.927094 381.592651 484.365265 256.5 C 495.761536 198.167572 484.647675 144.990387 457.184875 104.839111 C 483.741425 126.029144 502.082306 149.207672 511.976654 172.183655 C 512.74176 142.71701 494.705383 108.453644 457.684692 79.343597 C 416.277374 46.785736 362.846252 30.009674 316.465363 30.190887 C 313.606476 30.076538 310.730377 30 307.819885 30 Z M 300.94281 65.233368 C 350.338593 65.233368 391.38855 84.945648 418.469452 117.109131 C 438.013794 158.669403 433.832306 222.070923 419.672913 260.38974 C 399.999603 313.632782 369.81665 353.451691 321.711578 382.592712 C 270.391479 413.683441 200.81398 406.227631 179.412796 376.974213 C 177.736526 374.684357 176.358643 372.291809 175.262009 369.81781 C 189.659637 383.442566 222.158676 384.299194 251.176208 371.077576 C 282.466858 356.822998 297.845734 331.611389 285.522247 314.768494 C 273.197571 297.922668 237.842087 295.825684 206.550201 310.081238 C 194.478485 315.581512 184.7892 322.71463 178.133179 330.367157 C 178.755798 329.112244 179.414032 327.857361 180.129974 326.607269 C 157.181458 350.339111 149.966675 377.119568 164.352036 396.78241 C 211.879913 441.283722 284.786652 421.49588 337.194794 390.555359 C 383.799194 363.042297 426.007202 319.282288 446.928223 262.653442 C 448.48172 258.447784 449.895203 254.245056 451.185852 250.048096 C 450.834625 252.197449 450.461304 254.3526 450.038879 256.519409 C 429.399078 362.164368 329.184235 447.804382 226.20018 447.804382 C 182.427658 447.804382 145.205536 432.323975 118.451294 406.416626 C 85.917854 359.51886 98.817268 268.732208 124.192406 226.998474 C 157.036545 172.982147 205.406891 108.029205 289.148682 113.810516 C 345.67572 117.71283 366.636017 170.632233 337.199707 226.432556 C 326.626221 246.477173 311.174927 264.52948 292.732117 279.064148 C 323.322754 262.978027 350.106506 238.238403 365.889374 208.324066 C 395.325653 152.523712 374.412018 98.413391 317.835846 95.135132 C 212.546753 89.034027 148.809845 151.872528 99.805855 219.642487 C 88.495529 238.926422 79.933578 258.743347 74.045097 278.470123 C 74.651741 271.265289 75.656288 263.944183 77.106613 256.519409 C 97.742722 150.87442 197.957535 65.233368 300.94162 65.233368 Z"
		/>
	</g>
</svg>
